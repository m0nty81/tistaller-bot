# TInstaller - Unified APK Distribution Server

–ï–¥–∏–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è APK-—Ñ–∞–π–ª–æ–≤ –¥–ª—è Android TV.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üöÄ **Flask API** - –†–∞–∑–¥–∞—á–∞ APK —Ñ–∞–π–ª–æ–≤ —Å rate limiting
- ü§ñ **Telegram –±–æ—Ç** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ —á–µ—Ä–µ–∑ Telegram
- üì¶ **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ/–£–¥–∞–ª–µ–Ω–∏–µ** - –ú–∞—Å—Ç–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ –±–æ—Ç–∞
- üîÑ **–ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** - –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤
- üìä **–£–º–Ω—ã–π –ø–æ–∏—Å–∫** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ APK —Ñ–∞–π–ª–æ–≤ —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ –ø–æ –∏–º–µ–Ω–∏
- üîí **–¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞** - –í—Å–µ –∫–æ–º–∞–Ω–¥—ã –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É
- ‚öôÔ∏è **–û–¥–∏–Ω —Å–µ—Ä–≤–∏—Å** - –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ –æ–¥–Ω–æ–º systemd —Å–µ—Ä–≤–∏—Å–µ
- üì± **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ —Å—Å—ã–ª–∫–µ** - –ó–∞–≥—Ä—É–∑–∫–∞ APK –ø–æ –ø—Ä—è–º–æ–π —Å—Å—ã–ª–∫–µ —á–µ—Ä–µ–∑ –±–æ—Ç–∞

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
cd /opt/web-serv

# –°–æ–∑–¥–∞—Ç—å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv venv
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `.env.example` –≤ `.env` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:

```bash
cp .env.example .env
nano .env
```

2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `config/apps.json`:

```json
{
  "apps": [
    {
      "title": "My App",
      "description": "–û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è",
      "url": "https://yourdomain.com/apks/MyApp.apk",
      "sourceUpdate": "https://github.com/user/repo/releases/latest",
      "sourceMethod": "github_release",
      "sourceFilter": "arm64",
      "category": "Utilities"
    }
  ]
}
```

### –ó–∞–ø—É—Å–∫

#### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
python server.py
```

#### Production (systemd)

```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å service —Ñ–∞–π–ª
sudo cp service/tinstaller.service /etc/systemd/system/

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
sudo nano /etc/systemd/system/tinstaller.service

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å systemd –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å
sudo systemctl daemon-reload
sudo systemctl enable tinstaller
sudo systemctl start tinstaller
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
tinstaller/
‚îú‚îÄ‚îÄ server.py             # –ï–¥–∏–Ω—ã–π —Å–µ—Ä–≤–µ—Ä: Flask + Telegram –±–æ—Ç + –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫
‚îú‚îÄ‚îÄ requirements.txt      # Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ .env.example          # –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ apps.json         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
‚îú‚îÄ‚îÄ service/
‚îÇ   ‚îî‚îÄ‚îÄ tinstaller.service.example  # systemd service
‚îú‚îÄ‚îÄ logs/                 # –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îî‚îÄ‚îÄ apks/                 # APK —Ñ–∞–π–ª—ã
```

## API Endpoints

| Endpoint               | –û–ø–∏—Å–∞–Ω–∏–µ                                                     |
| ---------------------- | ------------------------------------------------------------ |
| `GET /`                | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π                                       |
| `GET /apks/<filename>` | –°–∫–∞—á–∞—Ç—å APK —Ñ–∞–π–ª                                             |
| `GET /health`          | –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏                                   |
| `POST /update`         | –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π (—Ç—Ä–µ–±—É–µ—Ç—Å—è `X-Auth-Token`) |

## Telegram –±–æ—Ç –∫–æ–º–∞–Ω–¥—ã

| –ö–æ–º–∞–Ω–¥–∞      | –û–ø–∏—Å–∞–Ω–∏–µ                                                                                   |
| ------------ | ------------------------------------------------------------------------------------------ |
| `/start`     | –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞, –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ                                                      |
| `/apps`      | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —Å –≤–µ—Ä—Å–∏—è–º–∏ –∏ —Å—Å—ã–ª–∫–∞–º–∏                                               |
| `/status`    | –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞: CPU, RAM, –¥–∏—Å–∫, —Å—Ç–∞—Ç—É—Å systemd, —Å—Å—ã–ª–∫–∞ –Ω–∞ apps.json                        |
| `/updateall` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤                                           |
| `/addapp`    | –ú–∞—Å—Ç–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (APK/—Å—Å—ã–ª–∫–∞ ‚Üí –Ω–∞–∑–≤–∞–Ω–∏–µ ‚Üí –æ–ø–∏—Å–∞–Ω–∏–µ ‚Üí –∫–∞—Ç–µ–≥–æ—Ä–∏—è ‚Üí –º–µ—Ç–æ–¥) |
| `/removeapp` | –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º                                                       |
| `/updateapp` | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–≤—ã–±–æ—Ä ‚Üí APK/—Å—Å—ã–ª–∫–∞)                                     |
| `/cancel`    | –û—Ç–º–µ–Ω–∞ —Ç–µ–∫—É—â–µ–π –æ–ø–µ—Ä–∞—Ü–∏–∏ (–º–∞—Å—Ç–µ—Ä–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è/—É–¥–∞–ª–µ–Ω–∏—è/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è)                           |

### –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥

#### `/addapp` ‚Äî –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

–ü–æ—à–∞–≥–æ–≤—ã–π –º–∞—Å—Ç–µ—Ä (6 —à–∞–≥–æ–≤):

1. **APK –∏–ª–∏ —Å—Å—ã–ª–∫–∞** ‚Äî –æ—Ç–ø—Ä–∞–≤—å—Ç–µ APK —Ñ–∞–π–ª –∏–ª–∏ –ø—Ä—è–º—É—é —Å—Å—ã–ª–∫—É –Ω–∞ –Ω–µ–≥–æ
2. **–ù–∞–∑–≤–∞–Ω–∏–µ** ‚Äî –≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ª–∞—Ç–∏–Ω–∏—Ü–µ–π (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞)
3. **–û–ø–∏—Å–∞–Ω–∏–µ** ‚Äî –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
4. **–ö–∞—Ç–µ–≥–æ—Ä–∏—è** ‚Äî –≤—ã–±–µ—Ä–∏—Ç–µ –∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∏–ª–∏ –≤–≤–µ–¥–∏—Ç–µ –Ω–æ–≤—É—é
5. **–ú–µ—Ç–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π**:
   - `manual` ‚Äî –Ω–µ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –±–æ—Ç–∞
   - `direct` ‚Äî –ø—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ APK –¥–ª—è –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
6. **–°—Å—ã–ª–∫–∞** (–¥–ª—è `direct`) ‚Äî URL –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

–ü—Ä–∏–º–µ—Ä –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å `manual`:

```json
{
  "title": "MyApp",
  "sourceMethod": "manual",
  "sourceUpdate": null
}
```

#### `/updateapp` ‚Äî –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–∑ —Å–ø–∏—Å–∫–∞ –∏–ª–∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ APK/—Å—Å—ã–ª–∫—É —Å—Ä–∞–∑—É
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ APK —Ñ–∞–π–ª –∏–ª–∏ –ø—Ä—è–º—É—é —Å—Å—ã–ª–∫—É
3. –ï—Å–ª–∏ –≤–µ—Ä—Å–∏—è –Ω–æ–≤–µe ‚Äî –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ä–∞–∑—É, –∏–Ω–∞—á–µ –∑–∞–ø—Ä–æ—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

**–í–∞–∂–Ω–æ:** `sourceMethod` –∏ `sourceUpdate` –Ω–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è. –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞—Ç —Ä–∞–±–æ—Ç–∞—Ç—å.

#### `/removeapp` ‚Äî –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

1. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏–∑ —Å–ø–∏—Å–∫–∞
2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —É–¥–∞–ª–µ–Ω–∏–µ
3. APK —Ñ–∞–π–ª –∏ –∑–∞–ø–∏—Å—å –≤ `apps.json` —É–¥–∞–ª—è—é—Ç—Å—è

#### `/status` ‚Äî –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞

–í—ã–≤–æ–¥–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:

- üìä CPU ‚Äî –∑–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞ (%)
- üíæ RAM ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ/–≤—Å–µ–≥–æ MB (%)
- üìÅ SSD ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ/–≤—Å–µ–≥–æ (%)
- üîß systemd ‚Äî —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞ (‚úÖ active / ‚ùå inactive)
- üìÑ apps.json ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–π —Ñ–∞–π–ª

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è                    | –û–ø–∏—Å–∞–Ω–∏–µ                                                  |
| ----------------------------- | --------------------------------------------------------- |
| `TELEGRAM_BOT_TOKEN`          | –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç @BotFather                                  |
| `TELEGRAM_CHAT_ID`            | Chat ID –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π                                   |
| `ADMIN_ID`                    | ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è –Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø)                |
| `UPDATE_CHECK_INTERVAL_HOURS` | –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π (—á–∞—Å—ã, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 6)       |
| `APPS_JSON_URL`               | URL –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ apps.json –∏–∑–≤–Ω–µ (–¥–ª—è –∫–æ–º–∞–Ω–¥—ã `/status`) |

–ü—Ä–∏–º–µ—Ä `.env`:

```bash
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
TELEGRAM_CHAT_ID=-1001234567890
ADMIN_ID=123456789
UPDATE_CHECK_INTERVAL_HOURS=6
APPS_JSON_URL=https://yourdomain.com/apps.json
```

## systemd —Å–µ—Ä–≤–∏—Å

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
sudo cp service/tinstaller.service.example /etc/systemd/system/tinstaller.service
sudo nano /etc/systemd/system/tinstaller.service  # –ó–∞–º–µ–Ω–∏—Ç–µ YOUR_USER
sudo systemctl daemon-reload
sudo systemctl enable tinstaller
sudo systemctl start tinstaller
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ

```bash
# –°—Ç–∞—Ç—É—Å
sudo systemctl status tinstaller

# –õ–æ–≥–∏
sudo journalctl -u tinstaller -f

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫
sudo systemctl restart tinstaller
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π

### –§–æ—Ä–º–∞—Ç apps.json

```json
{
  "apps": [
    {
      "title": "–ù–∞–∑–≤–∞–Ω–∏–µ",
      "description": "–û–ø–∏—Å–∞–Ω–∏–µ",
      "url": "https://YOUR_DOMAIN/apks/File.apk",
      "sourceUpdate": "https://external.com/app.apk –∏–ª–∏ API URL",
      "sourceMethod": "direct|github_release|gitlab_release|custom",
      "sourceFilter": "–ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)",
      "category": "–ö–∞—Ç–µ–≥–æ—Ä–∏—è",
      "ver": "1.2.3",
      "lastUpdated": "2026-02-26T10:30:00Z",
      "app_review": "https://youtube.com/watch?v=..."
    }
  ]
}
```

### –ú–µ—Ç–æ–¥—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

1. **manual** ‚Äî –Ω–µ—Ç –≤–Ω–µ—à–Ω–µ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –±–æ—Ç–∞:

```json
{
  "title": "MyApp",
  "sourceUpdate": null,
  "sourceMethod": "manual"
}
```

2. **direct** - –ü—Ä—è–º–∞—è —Å—Å—ã–ª–∫–∞ –Ω–∞ APK:

```json
{
  "title": "Aerial Dream",
  "sourceUpdate": "http://dradler.pp.ru/apps/Aerial_Dream.apk",
  "sourceMethod": "direct"
}
```

3. **github_release** - GitHub Releases API:

```json
{
  "title": "TorrServer",
  "sourceUpdate": "https://api.github.com/repos/YouROK/TorrServe/releases/latest",
  "sourceMethod": "github_release",
  "sourceFilter": "arm7"
}
```

4. **gitlab_release** - GitLab Releases API:

```json
{
  "title": "My App",
  "sourceUpdate": "https://gitlab.com/api/v4/projects/ID/releases",
  "sourceMethod": "gitlab_release",
  "sourceFilter": "arm64"
}
```

5. **custom** - –ö–∞—Å—Ç–æ–º–Ω–∞—è –∫–æ–º–∞–Ω–¥–∞ bash:

```json
{
  "title": "Custom App",
  "sourceUpdate": "curl -s https://api.example.com/releases | jq -r '.download_url'",
  "sourceMethod": "custom"
}
```

## –õ–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫)

- –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ `UPDATE_CHECK_INTERVAL_HOURS` —á–∞—Å–æ–≤
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å `sourceUpdate != null`
- –°–∫–∞—á–∏–≤–∞–µ—Ç APK –∏–∑ –≤–Ω–µ—à–Ω–µ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
- –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –≤–µ—Ä—Å–∏–∏:
  - **–ù–æ–≤–∞—è < —Å—Ç–∞—Ä–æ–π** ‚Üí –ü—Ä–æ–ø—É—Å–∫ (–±–µ–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
  - **–ù–æ–≤–∞—è = —Å—Ç–∞—Ä–æ–π** ‚Üí –ü—Ä–æ–ø—É—Å–∫ (–±–µ–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞)
  - **–ù–æ–≤–∞—è > —Å—Ç–∞—Ä–æ–π** ‚Üí –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ + —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ üîÑ
  - **–ù–æ–≤—ã–π —Ñ–∞–π–ª** ‚Üí –ó–∞–≥—Ä—É–∑–∫–∞ + —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ üÜï

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Telegram –±–æ—Ç–∞

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

- –û—Ç–ø—Ä–∞–≤—å—Ç–µ APK —Ñ–∞–π–ª –∏–ª–∏ —Å—Å—ã–ª–∫—É –±–æ—Ç—É
- –ë–æ—Ç –Ω–∞—Ö–æ–¥–∏—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞
- –°—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –≤–µ—Ä—Å–∏—é –∏–∑ APK —Å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–π (–∏–∑ —Ñ–∞–π–ª–∞, –∞ –Ω–µ –∏–∑ `apps.json`)
- –ï—Å–ª–∏ –≤–µ—Ä—Å–∏—è ‚â§ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π ‚Üí –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ
- –ï—Å–ª–∏ –≤–µ—Ä—Å–∏—è > —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π ‚Üí –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—Ä–∞–∑—É

#### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

- –ú–∞—Å—Ç–µ—Ä `/addapp` –ø—Ä–æ–≤–æ–¥–∏—Ç –ø–æ –≤—Å–µ–º —à–∞–≥–∞–º
- APK —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ `apks/{title}.apk`
- –ó–∞–ø–∏—Å—å –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ `apps.json`
- –î–ª—è `manual` ‚Äî –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç, —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –±–æ—Ç–∞

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.10+
- Ubuntu 20.04+ / Debian 11+
- `aapt` (–¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –≤–µ—Ä—Å–∏–∏ –∏–∑ APK)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
sudo apt-get update
sudo apt-get install -y python3 python3-pip python3-venv aapt
```

## nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–î–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ `apps.json` –ø–æ HTTPS –¥–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω—Ñ–∏–≥ nginx:

```nginx
location /apps.json {
    alias /opt/web-serv/config/apps.json;
    default_type application/json;
    add_header Access-Control-Allow-Origin *;
}
```

–ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ –∫–æ–Ω—Ñ–∏–≥–∞ ‚Äî –≤ `/etc/nginx/sites-available/[YOUR_DOMAIN].xyz`.

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. —Ñ–∞–π–ª [LICENSE](LICENSE).

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- –ü—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π Android TV
- –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π VPS/—Å–µ—Ä–≤–µ—Ä –¥–ª—è production
- –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–≤–æ–±–æ–¥–Ω–æ–µ –º–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ (APK —Ñ–∞–π–ª—ã –º–æ–≥—É—Ç –±—ã—Ç—å –±–æ–ª—å—à–∏–º–∏)
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ `apks/` –∏ `config/apps.json`
- –î–ª—è –∫–æ–º–∞–Ω–¥—ã `/status` –Ω–µ–æ–±—Ö–æ–¥–∏–º –¥–æ—Å—Ç—É–ø –∫ `systemctl`, `free`, `df` (–ø–æ–ª–Ω—ã–µ –ø—É—Ç–∏: `/usr/bin/*`)
